!function(a,b){"use strict";"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.HistoryLogger=b()}(this,function(){"use strict";var a=function(){this._settings={wrapperId:"logger-wrapper",wrapperCollapsedClass:"logger-wrapper-collapsed",loggerControllClass:"logger-controll",loggerItemClass:"logger-item",loggerItemExpandedClass:"logger-item-expanded",loggerItemCollapsedClass:"logger-item-collapsed",dateTimeClass:"logger-item-datetime",msgClass:"logger-item-msg"},this._logWrapper=void 0,this._logControll=void 0,this._body=void 0,this.log=function(a){if(!a)throw new Error("You must pass a message to log");this.setLogWrapper();var b=this.getLogElement(a);this._logWrapper.insertBefore(b,this._logWrapper.firstChild),this.hideLoggerItemHistory(),this._logControll||(this._logControll=this.getLogControll(),this._logWrapper.appendChild(this._logControll))},this.empty=function(a){a.preventDefault(),this._logWrapper&&(this._logWrapper.innerHTML="",this._logControll=void 0)}.bind(this)},b=a.prototype;return b.setLogWrapper=function(){return this._logWrapper?!1:(this._logWrapper=document.createElement("div"),this._logWrapper.id=this._settings.wrapperId,this._logWrapper.addEventListener("mouseover",this.toggleLoggerItemHistory.bind(this),!1),this._logWrapper.addEventListener("mouseout",this.toggleLoggerItemHistory.bind(this),!1),this._body=document.getElementsByTagName("body")[0],this._body.appendChild(this._logWrapper),!0)},b.getLogControll=function(){var a,c;return a=b.getNodeWithClass(this._settings.loggerControllClass),c=b.getNodeWithClass(null,"Clear log","a"),c.href="#",c.addEventListener("click",this.empty,!1),a.appendChild(c),a},b.getLogElement=function(a){var b,c,d,e,f;return b=this.getNodeWithClass(this._settings.loggerItemClass),c=this.getNodeWithClass(this._settings.loggerItemExpandedClass),d=this.getNodeWithClass(this._settings.dateTimeClass,this.getFormattedDateTime()),e=this.getNodeWithClass(this._settings.msgClass,a),f=this.getNodeWithClass(this._settings.loggerItemCollapsedClass,"h"),c.appendChild(d),c.appendChild(e),b.appendChild(c),b.appendChild(f),b.addEventListener("click",this.toggleLoggerCollapseState.bind(this),!1),b},b.getNodeWithClass=function(a,b,c){var d=document.createElement(c||"div");return a&&d.setAttribute("class",a),b&&(d.textContent=b),d},b.toggleLoggerItemHistory=function(){var a,b=this._logWrapper.querySelectorAll("."+this._settings.loggerItemClass),c=b.length;for(a=1;c>a;a++)b[a].classList.toggle("hidden")},b.toggleLoggerCollapseState=function(){this._logWrapper.classList.toggle(this._settings.wrapperCollapsedClass)},b.hideLoggerItemHistory=function(){var a,b=this._logWrapper.querySelectorAll("."+this._settings.loggerItemClass),c=b.length;for(a=1;c>a;a++)b[a].classList.add("hidden")},b.getFormattedDateTime=function(){var a=new Date,b=this.forceTwoDigits(a.getMonth()+1),c=this.forceTwoDigits(a.getDate()),d=this.forceTwoDigits(a.getHours()),e=this.forceTwoDigits(a.getMinutes()),f=this.forceTwoDigits(a.getSeconds());return[a.getFullYear(),b,c].join("-")+" "+d+":"+e+":"+f},b.forceTwoDigits=function(a){var b=a+"";return 1===b.length&&(b="0"+b),b},a});